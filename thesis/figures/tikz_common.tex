\usepackage{tikz}
\usepackage{pgfplots}
\pgfplotsset{compat=1.12}

\usetikzlibrary{angles}
\usetikzlibrary{calc}
\usetikzlibrary{decorations}
\usetikzlibrary{positioning}
\usetikzlibrary{quotes}
\usetikzlibrary{shapes}
\usetikzlibrary{shapes.multipart}

\usepgfplotslibrary{fillbetween}
\usepgfplotslibrary{units}

\tikzstyle{very small node} = [draw, circle, fill=tumblue!15, thick, minimum size=3pt, inner sep=0pt]
\tikzstyle{data point} = [very small node]
\tikzstyle{small node} = [draw, circle, fill=tumblue!15, thick, minimum size=6pt, inner sep=0pt]
\tikzstyle{large node} = [draw, circle, fill=tumblue!15, thick, minimum size=5pt, inner sep=5pt]

\tikzstyle{edge} = [draw, thick, shorten >=2pt, shorten <=2pt]
\tikzstyle{directed} = [arrows={-latex}, shorten >=2pt, shorten <=0pt]
\tikzstyle{no shorten} = [shorten >=0pt, shorten <=0pt]
\tikzstyle{marked} = [tumred]
\tikzstyle{marked edge} = [very thick, marked]
\tikzstyle{marked node} = [very thick, draw=tumred, fill=tumred!15]
\tikzstyle{every text node part} = [align=center, execute at begin node=\setlength{\baselineskip}{2ex}]

\pgfplotsset{unit code/.code 2 args={\si{#1#2}}}
\pgfplotsset{every plot/.append style={smooth}}
\pgfplotsset{default plot/.style = {
    grid=major,
    minor y tick num=1,
    minor x tick num=1,
}}
\pgfplotsset{narrow plot/.style = {
    default plot,
    width=220pt,
    height=207pt,
}}
\pgfplotsset{very narrow plot/.style = {
    default plot,
    width=200pt,
    height=207pt,
}}
\pgfplotsset{prior plot/.style = {
    narrow plot,
    ymin=-2.5,
    ymax=2.5,
    xmin=-2.5,
    xmax=2.5,
}}
\pgfplotsset{prior sample/.style = {
    semithick,
    densely dashed
}}
\pgfplotsset{posterior plot/.style = {
    narrow plot,
    ymin=-6.5,
    ymax=6.5,
    xmin=-5,
    xmax=5,
}}
\pgfplotsset{spgp plot/.style = {
    narrow plot,
    ymin=-1.5,
    ymax=1.5,
    xmin=-4.5,
    xmax=4.5,
}}

\pgfplotsset{bicycle/.style = {
    thick,
    tumblue,
    smooth,
}}
\pgfplotsset{omega plot/.style = {
    ymin=-0.24,
    ymax=0.24,
    ytick={-0.20943, 0, 0.20943},
    yticklabels={-$\frac{\pi}{15}$, $0$, $\frac{\pi}{15}$},
    xlabel={Timestep},
    ylabel={$\omega$},
    y unit={\radian},
}}
\pgfplotsset{omega dot plot/.style = {
    ymin=-0.24,
    ymax=0.24,
    ytick={-10, 0, 10},
    xlabel={Timestep},
    ylabel={$\dot{\omega}$},
    y unit={\radian\per\second},
}}
\pgfplotsset{theta plot/.style = {
    ymin=-0.24,
    ymax=0.24,
    ytick={-1.5708, 0, 1.5708},
    yticklabels={-$\frac{\pi}{2}$, $0$, $\frac{\pi}{2}$},
    xlabel={Timestep},
    ylabel={$\theta$},
    y unit={\radian},
}}
\pgfplotsset{theta dot plot/.style = {
    ymin=-0.24,
    ymax=0.24,
    ytick={-10, 0, 10},
    xlabel={Timestep},
    ylabel={$\dot{\theta}$},
    y unit={\radian\per\second},
}}

% See
% https://tex.stackexchange.com/a/21759/34265
\tikzset{
    right angle quadrant/.code={
        \pgfmathsetmacro\quadranta{{1,1,-1,-1}[#1-1]}     % Arrays for selecting quadrant
        \pgfmathsetmacro\quadrantb{{1,-1,-1,1}[#1-1]}},
    right angle quadrant=1, % Make sure it is set, even if not called explicitly
    right angle length/.code={\def\rightanglelength{#1}},   % Length of symbol
    right angle length=2ex, % Make sure it is set...
    right angle symbol/.style n args={3}{
        insert path={
            let \p0 = ($(#1)!(#3)!(#2)$) in     % Intersection
                let \p1 = ($(\p0)!\quadranta*\rightanglelength!(#3)$), % Point on base line
                \p2 = ($(\p0)!\quadrantb*\rightanglelength!(#2)$) in % Point on perpendicular line
                let \p3 = ($(\p1)+(\p2)-(\p0)$) in  % Corner point of symbol
            (\p1) -- (\p3) -- (\p2)
        }
    }
}
