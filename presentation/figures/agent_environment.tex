\documentclass[beamer, aspectratio=1610]{standalone}
\input{tikz_common.tex}
\input{tikz_colors.tex}
\input{tikz_standalone.tex}
\input{tikz_jumping.tex}

\begin{document}
\begin{standaloneframe}
    \begin{tikzpicture}[stop jumping]
        \tikzstyle{entity} = [
            inner sep=10pt,
            draw, fill=tumblue!15, thick,
        ];
        \tikzstyle{agent} = [
            entity,
            onslide={<2-> minimum width=200pt, minimum height=125pt},
            onslide={<2-> fill=none, dashed, rounded corners, very thick, densely dashed},
        ];
        \tikzstyle{environment} = [entity];

        \node[agent, text height=1.5ex, text depth=0ex] (agent) at (0, 5)
            {\alt<1>{Agent}{blubb}};
        \node[environment, text height=1.5ex, text depth=0ex] (env) at (0, 0)
            {\alt<1>{Environment}{Bicycle}};

        \draw[edge, directed, very thick]
            (agent.east) -- ($(agent) + (5, 0)$)
            |- node[pos=0.25, right] {Action \\ $a_t$} (env.east);

        \draw[edge, inverse directed, very thick]
            ([yshift=3pt]agent.west) -- ($([yshift=3pt]agent) + (-5.6, 0)$)
            |-
                node[pos=0.25, left] {State \\ $s_t$}
                node[pos=0.25, right, shift={(0.3, 0)}] {Reward \\ $r_t$}
                ($([yshift=-3pt]env.west) + (-3, 0)$);

        \draw[edge, inverse directed]
            ([yshift=-3pt]agent.west) -- ($([yshift=-3pt]agent) + (-5.4, 0)$)
            |- ($([yshift=3pt]env.west) + (-3, 0)$);

        \draw[preaction={draw, line width=5pt, white}, thick, densely dashed]
            (env.west) ++(-3, -0.75) -- ++(0, 1.5);
        \draw[edge, directed, very thick]
            ([yshift=-3pt]env.west)
            -- node[below] {$s_{t+1}$} ++(-3, 0);
        \draw[edge, directed]
            ([yshift=3pt]env.west)
            -- node[above] {$r_{t+1}$} ++(-3, 0);
    \end{tikzpicture}
\end{standaloneframe}
\end{document}
